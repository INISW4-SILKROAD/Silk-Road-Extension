{"version":3,"file":"popup.e196d7490639838fdcdb.hot-update.js","mappings":"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","sources":["webpack://silkroad/./src/popup/Main.jsx","webpack://silkroad/webpack/runtime/getFullHash"],"sourcesContent":["// import React, { useEffect, useState } from 'react';\r\n// import { HashRouter as Router, Route, Routes, useNavigate } from 'react-router-dom';\r\n// import './css/Main.css';\r\n// import TouchInfo from './components/TouchInfo';\r\n// import GoodsList from './components/GoodsList';\r\n// import Detail from './Detail';\r\n// import None from './None';\r\n// import Home from './Home';\r\n\r\n// const Main = () => {\r\n//   const navigate = useNavigate();\r\n//   const [touchInfo, setTouchInfo] = useState(null);\r\n//   const [searchResults, setSearchResults] = useState(null);\r\n\r\n//   useEffect(() => {\r\n//     const fetchSearchResults = () => {\r\n//       if (chrome.storage && chrome.storage.local) {\r\n//         chrome.storage.local.get(['searchResults'], (result) => {\r\n//           if (result.searchResults) {\r\n//             const touchInfoData = result.searchResults.filter(item => item.portion && item.texture_img);\r\n//             if (touchInfoData.length > 0) {\r\n//               setTouchInfo(touchInfoData[0]);\r\n//               setSearchResults(result.searchResults);\r\n//               navigate('/main');\r\n//             } else {\r\n//               navigate('/none');\r\n//             }\r\n//           } else {\r\n//             navigate('/home');\r\n//           }\r\n//         });\r\n//       } else {\r\n//         console.error('chrome.storage.local 에러');\r\n//       }\r\n//     };\r\n\r\n//     if (chrome.runtime && chrome.runtime.onMessage) {\r\n//       chrome.runtime.onMessage.addListener((message, sender, sendResponse) => {\r\n//         if (message.action === 'updateMain') {\r\n//           fetchSearchResults();\r\n//         }\r\n//       });\r\n//     } else {\r\n//       console.error('chrome.runtime.onMessage 에러');\r\n//     }\r\n\r\n\r\n//   }, [navigate]);\r\n\r\n//   return (\r\n//     <div className=\"popup-container\">\r\n//       <Routes>\r\n//         <Route path=\"/\" element={<Home />} />\r\n//         <Route path=\"/main\" element={\r\n//           touchInfo ? (\r\n//             <>\r\n//               <TouchInfo />\r\n//               <GoodsList onImageClick={(id) => navigate(`/detail/${id}`)} />\r\n//             </>\r\n//           ) : searchResults ? (\r\n//             <>\r\n//               <GoodsList onImageClick={(id) => navigate(`/detail/${id}`)} />\r\n//             </>\r\n//           ) : (\r\n//             <div>Loading...</div>\r\n//           )\r\n//         } />\r\n//         <Route path=\"/detail/:id\" element={<Detail />} />\r\n//         <Route path=\"/none\" element={<None />} />\r\n//       </Routes>\r\n//     </div>\r\n//   );\r\n// };\r\n\r\n// export default Main;\r\n\r\n\r\nimport React, { useEffect, useState } from 'react';\r\nimport { Routes, Route, useNavigate } from 'react-router-dom';\r\nimport './css/Main.css';\r\nimport TouchInfo from './components/TouchInfo';\r\nimport GoodsList from './components/GoodsList';\r\nimport Detail from './Detail';\r\nimport None from './None';\r\nimport Home from './Home';\r\n\r\nconst Main = () => {\r\n  const navigate = useNavigate();\r\n  const [touchInfo, setTouchInfo] = useState(null);\r\n  const [searchResults, setSearchResults] = useState(null);\r\n\r\n  useEffect(() => {\r\n    const fetchSearchResults = () => {\r\n      if (chrome.storage && chrome.storage.local) {\r\n        chrome.storage.local.get(['searchResults'], (result) => {\r\n          if (result.searchResults) {\r\n            const touchInfoData = result.searchResults.filter(item => item.portion && item.texture_img);\r\n            if (touchInfoData.length > 0) {\r\n              setTouchInfo(touchInfoData[0]);\r\n              setSearchResults(result.searchResults);\r\n            } else {\r\n              navigate('/none');\r\n            }\r\n          } else {\r\n            navigate('/home');\r\n          }\r\n        });\r\n      } else {\r\n        console.error('chrome.storage.local is not available');\r\n      }\r\n    };\r\n\r\n    if (chrome.runtime && chrome.runtime.onMessage) {\r\n      chrome.runtime.onMessage.addListener((message, sender, sendResponse) => {\r\n        if (message.action === 'updateMain') {\r\n          fetchSearchResults();\r\n        }\r\n      });\r\n    } else {\r\n      console.error('chrome.runtime.onMessage is not available');\r\n    }\r\n\r\n    fetchSearchResults();\r\n  }, [navigate]);\r\n\r\n  return (\r\n    <div className=\"popup-container\">\r\n      <Routes>\r\n        <Route path=\"/\" element={<Home />} />\r\n        <Route path=\"/main\" element={\r\n          touchInfo ? (\r\n            <>\r\n              <TouchInfo />\r\n              <GoodsList onImageClick={(id) => navigate(`/detail/${id}`)} />\r\n            </>\r\n          ) : searchResults ? (\r\n            <>\r\n              <GoodsList onImageClick={(id) => navigate(`/detail/${id}`)} />\r\n            </>\r\n          ) : (\r\n            <div>Loading...</div>\r\n          )\r\n        } />\r\n        <Route path=\"/detail/:id\" element={<Detail />} />\r\n        <Route path=\"/none\" element={<None />} />\r\n      </Routes>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Main;\r\n","__webpack_require__.h = () => (\"ba11104583abc2bdb73a\")"],"names":["React","useEffect","useState","Routes","Route","useNavigate","TouchInfo","GoodsList","Detail","None","Home","Main","navigate","_useState","_useState2","_slicedToArray","touchInfo","setTouchInfo","_useState3","_useState4","searchResults","setSearchResults","fetchSearchResults","chrome","storage","local","get","result","touchInfoData","filter","item","portion","texture_img","length","console","error","runtime","onMessage","addListener","message","sender","sendResponse","action","createElement","className","path","element","Fragment","onImageClick","id","concat"],"sourceRoot":""}