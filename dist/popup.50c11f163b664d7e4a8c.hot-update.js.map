{"version":3,"file":"popup.50c11f163b664d7e4a8c.hot-update.js","mappings":";;;;;;;;;;;;;;;;;;;;;;;;;AAAA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAGmD;AACJ;AACvB;AACuB;AACA;AAE/C,IAAMM,IAAI,GAAG,SAAPA,IAAIA,CAAA,EAAS;EACjB,IAAMC,QAAQ,GAAGJ,6DAAW,CAAC,CAAC;EAC9B,IAAAK,SAAA,GAAkCN,+CAAQ,CAAC,IAAI,CAAC;IAAAO,UAAA,GAAAC,cAAA,CAAAF,SAAA;IAAzCG,SAAS,GAAAF,UAAA;IAAEG,YAAY,GAAAH,UAAA;EAC9B,IAAAI,UAAA,GAA0CX,+CAAQ,CAAC,IAAI,CAAC;IAAAY,UAAA,GAAAJ,cAAA,CAAAG,UAAA;IAAjDE,aAAa,GAAAD,UAAA;IAAEE,gBAAgB,GAAAF,UAAA;EAEtCb,gDAAS,CAAC,YAAM;IACdgB,OAAO,CAACC,GAAG,CAAC,oDAAoD,CAAC;IACjE,IAAMC,kBAAkB,GAAG,SAArBA,kBAAkBA,CAAA,EAAS;MAC/BC,MAAM,CAACC,OAAO,CAACC,KAAK,CAACC,GAAG,CAAC,CAAC,eAAe,CAAC,EAAE,UAACC,MAAM,EAAK;QACtDP,OAAO,CAACC,GAAG,CAAC,qCAAqC,EAAEM,MAAM,CAAC;QAC1D,IAAIA,MAAM,CAACT,aAAa,EAAE;UACxB,IAAMU,aAAa,GAAGD,MAAM,CAACT,aAAa,CAACW,MAAM,CAAC,UAAAC,IAAI;YAAA,OAAIA,IAAI,CAACC,OAAO,IAAID,IAAI,CAACE,WAAW;UAAA,EAAC;UAC3F,IAAIJ,aAAa,CAACK,MAAM,GAAG,CAAC,EAAE;YAC5BlB,YAAY,CAACa,aAAa,CAAC,CAAC,CAAC,CAAC;YAC9BT,gBAAgB,CAACQ,MAAM,CAACT,aAAa,CAAC;UACxC,CAAC,MAAM;YACLE,OAAO,CAACC,GAAG,CAAC,oDAAoD,CAAC;YACjEX,QAAQ,CAAC,OAAO,CAAC;UACnB;QACF,CAAC,MAAM;UACLU,OAAO,CAACC,GAAG,CAAC,6CAA6C,CAAC;UAC1DX,QAAQ,CAAC,GAAG,CAAC;QACf;MACF,CAAC,CAAC;IACJ,CAAC;IAEDY,kBAAkB,CAAC,CAAC;EACtB,CAAC,EAAE,CAACZ,QAAQ,CAAC,CAAC;EAEd,oBACEP,0DAAA;IAAKgC,SAAS,EAAC;EAAiB,GAC7BrB,SAAS,gBACRX,0DAAA,CAAAA,uDAAA,qBACEA,0DAAA,CAACI,6DAAS;IAACO,SAAS,EAAEA;EAAU,CAAE,CAAC,eACnCX,0DAAA,CAACK,6DAAS;IAAC6B,KAAK,EAAEnB,aAAc;IAACoB,YAAY,EAAE,SAAAA,aAACC,EAAE;MAAA,OAAK7B,QAAQ,YAAA8B,MAAA,CAAYD,EAAE,CAAE,CAAC;IAAA;EAAC,CAAE,CACnF,CAAC,gBAEHpC,0DAAA,cAAK,YAAe,CAEnB,CAAC;AAEV,CAAC;AAED,iEAAeM,IAAI;;;;;;;;UCpFnB","sources":["webpack://silkroad/./src/popup/Main.jsx","webpack://silkroad/webpack/runtime/getFullHash"],"sourcesContent":["// import React from 'react';\r\n// import { HashRouter as Router, Route, Routes } from 'react-router-dom';\r\n// import './css/Main.css';\r\n// import TouchInfo from './components/TouchInfo';\r\n// import GoodsList from './components/GoodsList';\r\n// import Detail from './Detail';\r\n\r\n// const Main = () => {\r\n//   const handleImageClick = (id) => {\r\n//     window.location.hash = `#/detail/${id}`;\r\n//   };\r\n\r\n//   return (\r\n//     <Router>\r\n//       <div className=\"popup-container\">\r\n//         <Routes>\r\n//           <Route\r\n//             path=\"/\"\r\n//             element={\r\n//               <>\r\n//                 <TouchInfo />\r\n//                 <GoodsList onImageClick={handleImageClick} />\r\n//               </>\r\n//             }\r\n//           />\r\n//           <Route path=\"/detail/:id\" element={<Detail />} />\r\n//         </Routes>\r\n//       </div>\r\n//     </Router>\r\n//   );\r\n// };\r\n\r\n// export default Main;\r\n\r\n\r\nimport React, { useEffect, useState } from 'react';\r\nimport { useNavigate } from 'react-router-dom';\r\nimport './css/Main.css';\r\nimport TouchInfo from './components/TouchInfo';\r\nimport GoodsList from './components/GoodsList';\r\n\r\nconst Main = () => {\r\n  const navigate = useNavigate();\r\n  const [touchInfo, setTouchInfo] = useState(null);\r\n  const [searchResults, setSearchResults] = useState(null);\r\n\r\n  useEffect(() => {\r\n    console.log(\"Main component mounted, fetching search results...\");\r\n    const fetchSearchResults = () => {\r\n      chrome.storage.local.get(['searchResults'], (result) => {\r\n        console.log(\"Search results fetched from storage\", result);\r\n        if (result.searchResults) {\r\n          const touchInfoData = result.searchResults.filter(item => item.portion && item.texture_img);\r\n          if (touchInfoData.length > 0) {\r\n            setTouchInfo(touchInfoData[0]);\r\n            setSearchResults(result.searchResults);\r\n          } else {\r\n            console.log(\"No valid touch info data found, navigating to none\");\r\n            navigate('/none');\r\n          }\r\n        } else {\r\n          console.log(\"No search results found, navigating to home\");\r\n          navigate('/');\r\n        }\r\n      });\r\n    };\r\n\r\n    fetchSearchResults();\r\n  }, [navigate]);\r\n\r\n  return (\r\n    <div className=\"popup-container\">\r\n      {touchInfo ? (\r\n        <>\r\n          <TouchInfo touchInfo={touchInfo} />\r\n          <GoodsList goods={searchResults} onImageClick={(id) => navigate(`/detail/${id}`)} />\r\n        </>\r\n      ) : (\r\n        <div>Loading...</div>\r\n      )}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Main;\r\n","__webpack_require__.h = () => (\"86aa7c1b539bce6e4889\")"],"names":["React","useEffect","useState","useNavigate","TouchInfo","GoodsList","Main","navigate","_useState","_useState2","_slicedToArray","touchInfo","setTouchInfo","_useState3","_useState4","searchResults","setSearchResults","console","log","fetchSearchResults","chrome","storage","local","get","result","touchInfoData","filter","item","portion","texture_img","length","createElement","className","Fragment","goods","onImageClick","id","concat"],"sourceRoot":""}