{"version":3,"file":"popup.a8179e204e29928c9a87.hot-update.js","mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;AAAA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAImD;AAC+B;AAChD;AACV;AACuB;AACA;AACjB;AAE9B,IAAMY,aAAa,GAAG,SAAhBA,aAAaA,CAAA,EAAS;EAC1B,IAAAC,UAAA,GAAeN,2DAAS,CAAC,CAAC;IAAlBO,EAAE,GAAAD,UAAA,CAAFC,EAAE;EACV,oBAAOd,0DAAA,CAACW,+CAAM;IAACK,SAAS,EAAEF;EAAG,CAAE,CAAC;AAClC,CAAC;AAED,IAAMG,IAAI,GAAG,SAAPA,IAAIA,CAAA,EAAS;EACjB,IAAAC,SAAA,GAAkDhB,+CAAQ,CAAC,IAAI,CAAC;IAAAiB,UAAA,GAAAC,cAAA,CAAAF,SAAA;IAAzDG,iBAAiB,GAAAF,UAAA;IAAEG,oBAAoB,GAAAH,UAAA;EAC9C,IAAAI,UAAA,GAAkCrB,+CAAQ,CAAC,IAAI,CAAC;IAAAsB,UAAA,GAAAJ,cAAA,CAAAG,UAAA;IAAzCE,SAAS,GAAAD,UAAA;IAAEE,YAAY,GAAAF,UAAA;EAE9BvB,gDAAS,CAAC,YAAM;IACd,IAAM0B,MAAM,GAAGnB,4DAAE,CAAC,uBAAuB,EAAE;MACzCoB,eAAe,EAAE,IAAI;MACrBC,YAAY,EAAE;QACZ,kBAAkB,EAAE;MACtB;IACF,CAAC,CAAC;IAEFF,MAAM,CAACG,EAAE,CAAC,WAAW,EAAE,UAACC,IAAI,EAAK;MAC/BC,OAAO,CAACC,GAAG,CAAC,0BAA0B,EAAEF,IAAI,CAAC,CAAC,CAAE;MAChD,IAAIA,IAAI,CAACf,SAAS,KAAKK,iBAAiB,EAAE;QACxCK,YAAY,CAACK,IAAI,CAACN,SAAS,CAAC;MAC9B;IACF,CAAC,CAAC;IAEF,OAAO,YAAM;MACXE,MAAM,CAACO,UAAU,CAAC,CAAC;IACrB,CAAC;EACH,CAAC,EAAE,CAACb,iBAAiB,CAAC,CAAC;EAEvB,IAAMc,gBAAgB,GAAG,SAAnBA,gBAAgBA,CAAIrB,EAAE,EAAK;IAC/BQ,oBAAoB,CAACR,EAAE,CAAC;IACxBsB,MAAM,CAACC,QAAQ,CAACC,IAAI,eAAAC,MAAA,CAAezB,EAAE,CAAE;EACzC,CAAC;EAED,oBACEd,0DAAA,CAACI,wDAAM,qBACLJ,0DAAA;IAAKwC,SAAS,EAAC;EAAiB,gBAC9BxC,0DAAA,CAACM,oDAAM,qBACLN,0DAAA,CAACK,mDAAK;IACJoC,IAAI,EAAC,GAAG;IACRC,OAAO,eACL1C,0DAAA,CAAAA,uDAAA,qBACEA,0DAAA,CAACS,6DAAS;MAACO,SAAS,EAAEK,iBAAkB;MAACI,SAAS,EAAEA;IAAU,CAAE,CAAC,eACjEzB,0DAAA,CAACU,6DAAS;MAACkC,YAAY,EAAET;IAAiB,CAAE,CAC5C;EACH,CACF,CAAC,eACFnC,0DAAA,CAACK,mDAAK;IAACoC,IAAI,EAAC,aAAa;IAACC,OAAO,eAAE1C,0DAAA,CAACY,aAAa,MAAE;EAAE,CAAE,CACjD,CACL,CACC,CAAC;AAEb,CAAC;AAED,iEAAeK,IAAI;;;;;;;;UC3GnB","sources":["webpack://silkroad/./src/popup/Main.jsx","webpack://silkroad/webpack/runtime/getFullHash"],"sourcesContent":["// import React, { useState } from 'react';\r\n// import { HashRouter as Router, Route, Routes, useParams } from 'react-router-dom';\r\n// import './css/Main.css';\r\n// import TouchInfo from './components/TouchInfo';\r\n// import GoodsList from './components/GoodsList';\r\n// import Detail from './Detail';\r\n\r\n// const DetailWrapper = () => {\r\n//   const { id } = useParams();\r\n//   return <Detail productId={id} />;\r\n// };\r\n\r\n// const Main = () => {\r\n//   const [selectedProductId, setSelectedProductId] = useState(null);\r\n\r\n//   const handleImageClick = (id) => {\r\n//     setSelectedProductId(id);\r\n//     window.location.hash = `#/detail/${id}`;\r\n//   };\r\n\r\n//   return (\r\n//     <Router>\r\n//       <div className=\"popup-container\">\r\n        \r\n//         <Routes>\r\n//           <Route\r\n//             path=\"/\"\r\n//             element={\r\n//               <>\r\n//                 <TouchInfo productId={selectedProductId} />\r\n//                 <GoodsList onImageClick={handleImageClick} />\r\n//               </>\r\n//             }\r\n//           />\r\n//           <Route path=\"/detail/:id\" element={<DetailWrapper />} />\r\n//         </Routes>\r\n//       </div>\r\n//     </Router>\r\n//   );\r\n// };\r\n\r\n// export default Main;\r\n\r\n\r\n\r\nimport React, { useEffect, useState } from 'react';\r\nimport { HashRouter as Router, Route, Routes, useParams } from 'react-router-dom';\r\nimport io from 'socket.io-client';\r\nimport './css/Main.css';\r\nimport TouchInfo from './components/TouchInfo';\r\nimport GoodsList from './components/GoodsList';\r\nimport Detail from './Detail';\r\n\r\nconst DetailWrapper = () => {\r\n  const { id } = useParams();\r\n  return <Detail productId={id} />;\r\n};\r\n\r\nconst Main = () => {\r\n  const [selectedProductId, setSelectedProductId] = useState(null);\r\n  const [touchInfo, setTouchInfo] = useState(null);\r\n\r\n  useEffect(() => {\r\n    const socket = io('http://127.0.0.1:5001', {\r\n      withCredentials: true,\r\n      extraHeaders: {\r\n        \"my-custom-header\": \"abcd\"\r\n      }\r\n    });\r\n\r\n    socket.on('touchInfo', (data) => {\r\n      console.log('Received touchInfo data:', data);  // 로그 추가\r\n      if (data.productId === selectedProductId) {\r\n        setTouchInfo(data.touchInfo);\r\n      }\r\n    });\r\n\r\n    return () => {\r\n      socket.disconnect();\r\n    };\r\n  }, [selectedProductId]);\r\n\r\n  const handleImageClick = (id) => {\r\n    setSelectedProductId(id);\r\n    window.location.hash = `#/detail/${id}`;\r\n  };\r\n\r\n  return (\r\n    <Router>\r\n      <div className=\"popup-container\">\r\n        <Routes>\r\n          <Route\r\n            path=\"/\"\r\n            element={\r\n              <>\r\n                <TouchInfo productId={selectedProductId} touchInfo={touchInfo} />\r\n                <GoodsList onImageClick={handleImageClick} />\r\n              </>\r\n            }\r\n          />\r\n          <Route path=\"/detail/:id\" element={<DetailWrapper />} />\r\n        </Routes>\r\n      </div>\r\n    </Router>\r\n  );\r\n};\r\n\r\nexport default Main;\r\n","__webpack_require__.h = () => (\"5d53eedee9d8c7fa9975\")"],"names":["React","useEffect","useState","HashRouter","Router","Route","Routes","useParams","io","TouchInfo","GoodsList","Detail","DetailWrapper","_useParams","id","createElement","productId","Main","_useState","_useState2","_slicedToArray","selectedProductId","setSelectedProductId","_useState3","_useState4","touchInfo","setTouchInfo","socket","withCredentials","extraHeaders","on","data","console","log","disconnect","handleImageClick","window","location","hash","concat","className","path","element","Fragment","onImageClick"],"sourceRoot":""}